webpackJsonp([0],[function(module,exports){function getUrlParam(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),o=window.location.search.substr(1).match(t);return null!=o?decodeURIComponent(o[2]):null}function loadWebViewBridge(){function e(e){if(WebViewJavascriptBridge._messageHandler)throw new Error("WebViewJavascriptBridge.init called twice");WebViewJavascriptBridge._messageHandler=e;var t=u;u=null;for(var o=0;o<t.length;o++)r(t[o])}function t(e,t){n({data:e},t)}function o(e,t){d[e]=t}function i(e,t,o){n({handlerName:e,data:t},o)}function n(e,t){if(t){var o="cb_"+_+++"_"+(new Date).getTime();p[o]=t,e.callbackId=o}l.push(e),c.src=m+"://"+f}function a(){var e=JSON.stringify(l);return l=[],e}function r(e){setTimeout(function(){var t,o=JSON.parse(e);if(o.responseId){if(!(t=p[o.responseId]))return;t(o.responseData),delete p[o.responseId]}else{if(o.callbackId){var i=o.callbackId;t=function(e){n({responseId:i,responseData:e})}}var a=WebViewJavascriptBridge._messageHandler;o.handlerName&&(a=d[o.handlerName]);try{a(o.data,t)}catch(e){}}})}function s(e){u?u.push(e):r(e)}if(!window.WebViewJavascriptBridge){var c,l=[],u=[],d={},m="wvjbscheme",f="__WVJB_QUEUE_MESSAGE__",p={},_=1;window.WebViewJavascriptBridge={init:e,send:t,registerHandler:o,callHandler:i,_fetchQueue:a,_handleMessageFromObjC:s};var v=document;!function(e){c=e.createElement("iframe"),c.style.display="none",c.src=m+"://"+f,e.documentElement.appendChild(c)}(v),e(function(e){this.log("ios initial")})}}function extend(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e}function compare(e){if(is_o_webview)return 1;var t,o=typeof e;if("string"==o||"number"==o)t=e+"";else{if("object"!=o)return;t=e[platform]}var i=momo_version.split("."),n=t.toString().split("."),a=Math.max(n.length,i.length);try{for(var r=0;r<a;r++){var s=isFinite(i[r])&&Number(i[r])||0,c=isFinite(n[r])&&Number(n[r])||0;if(s<c)return-1;if(s>c)return 1}}catch(e){return-1}return 0}function checkMK(){if(is_android){if(/momoKit/.test(ua))return!0}else if(is_ios)if(build_version>=451||is_o_webview){if(/momoKit/.test(ua))return!0}else if(compare("6.5")>=0&&location.href.indexOf("_bid")>-1)return!0;return!1}var BRIDGE_VERSION="4.1.2",last_modified="Modified: 2016-10-11_11:30:29",uniqueId=1;window.mm;var ua=window.navigator.userAgent,is_m_webview=/momoWebView/.test(ua),is_o_webview=/(molive|momoGame)WebView/.test(ua),is_webview=is_m_webview||is_o_webview,is_ios=/iP(ad|hone|od)/.test(ua),is_android=/[aA]ndroid/.test(ua),is_wp=/Windows Phone/.test(ua),is_mobile=/Mobile/.test(ua),is_pc=!is_mobile,is_unknown=!is_android&&!is_ios&&!is_wp,is_weixin=/MicroMessenger/.test(ua),is_hasNet=/netType\/(\d)/.exec(ua),is_wifi=!(!is_webview||!is_hasNet)&&"1"==is_hasNet[1],version=/momoWebView\/(\d+)\.(\d+)\.?(\d)?/.exec(ua)||["","0","0"],momo_main_version=parseInt(version[1]),momo_minor_version=parseInt(version[2]),momo_version=version[1]+"."+version[2]+(version[3]?"."+version[3]:""),arr_build_version=/(ios|android)\/(\d+)\(/.exec(ua),build_version=arr_build_version?arr_build_version[2]:0,platform=is_ios?"ios":is_android?"android":is_wp?"win_phone":"unknown",debug=0,query={},is_offline=1==getUrlParam("_offline");try{location.search.substr(1).split("&").forEach(function(e){e.split("=")[0]in query?query[e.split("=")[0]].push(e.split("=")[1]):query[e.split("=")[0]]=[e.split("=")[1]]})}catch(e){}var prepare={_native_obj:null,_adapter:null,NOOP:function(){},init:function(){if(is_webview)switch(platform){case"ios":loadWebViewBridge(),this._native_obj=window.WebViewJavascriptBridge,this._adapter=this.iOSAdapter();break;case"android":window.aobj&&(this._native_obj=window.aobj,this._adapter=this.AndroidAdapter());break;case"win_phone":this._adapter=this.WpAdapter();break;default:this._adapter=this.MoAdapter()}else this._adapter=this.MoAdapter()},initMK:function(){this._adapter=is_ios?this.iOS_MK_Adapter():is_android?this.Android_MK_Adapter():this.MoAdapter()},MoAdapter:function(){return{name:"basic",invoke:function(){}}},iOSAdapter:function(){return{name:"ios",_NAME:{init:"handleStateInfo",closeWindow:"close",callShare:"showGeneralShare"},_CB:{readImage:"momo_btn_controller_setImageSrc"},invoke:function(){var args=Array.prototype.slice.apply(arguments);try{var _adp=this._adapter,__handler,__callback,__cbk;void 0===args[1]&&(args[1]="{}"),args.push(this.NOOP);var _orig=args[0];args[0]=_adp._NAME.hasOwnProperty(args[0])?_adp._NAME[args[0]]:args[0];var _obj="string"==typeof args[1]?JSON.parse(args[1]):args[1];if("init"==_orig){if(_obj.hasOwnProperty("ui_btn"))for(var i=0;i<_obj.ui_btn.buttons.length;i++)_obj.ui_btn.buttons[i].param.callback&&(__callback=_obj.ui_btn.buttons[i].param.callback,this._native_obj.registerHandler(__callback.replace(/\./g,"_"),function(data){try{var cbk=eval(__callback);cbk&&"function"==typeof cbk&&cbk.call(null,data)}catch(e){}}.bind(this)))}else"callShare"==_orig||"shareOne"==_orig?(__callback=_obj.hasOwnProperty("callback")?_obj.callback:null,__handler=__callback.replace(/\./g,"_")):(__callback=_obj.hasOwnProperty("callback")?_obj.callback:null,__handler=_adp._CB.hasOwnProperty(_orig)?_adp._CB[_orig]:"",__handler=""==__handler?"momo_bridge_"+_orig:__handler);__callback&&__handler&&this._native_obj.registerHandler(__handler,function(data){try{var cbk=eval(__callback);cbk&&"function"==typeof cbk&&("readImage"==_orig?cbk.call(null,data.id,data.data,data.size,data.type):cbk.call(null,data))}catch(e){}}.bind(this)),this._native_obj.callHandler.apply(null,args)}catch(e){}}}},AndroidAdapter:function(){return{name:"android",invoke:function(){var e=Array.prototype.slice.apply(arguments),t=e.shift();if(this._native_obj[t]&&"function"==typeof this._native_obj[t])try{e[0]?this._native_obj[t](e[0]):this._native_obj[t]()}catch(e){}}}},WpAdapter:function(){return{name:"win phone",invoke:function(){var e=Array.prototype.slice.apply(arguments),t=e.shift();try{window.external.notify('{"'+t+'": '+e+"}")}catch(e){}}}},mkURL:function(e,t,o){return e=e||"",t=t||"",o=o||"{}","mkjsbridge://"+e+"/"+t+"?param="+encodeURIComponent(o)},iOS_MK_Adapter:function(){function e(e){var t=document.createElement("iframe");t.style.display="none",t.src=e,document.documentElement.appendChild(t);var o=mm.__RETURN_VALUE;return mm.__RETURN_VALUE=void 0,t.parentNode.removeChild(t),o}var t=this;return{name:"ios",invoke:function(o,i,n){window["momokit_"+o];e(t.mkURL(o,i,n))}}},Android_MK_Adapter:function(e){var t=this;return window.mkAobj?{name:"android",invoke:function(e,t,o){e=e||"",t=t||"",o=o||"{}",window.mkAobj.bridgejs(e,t,o)}}:{name:"android aobj",invoke:function(e,o,i){window.prompt(t.mkURL(e,o,i))}}}},mm={version:BRIDGE_VERSION,last_modified:last_modified,is_webview:is_webview,is_o_webview:is_o_webview,momo_version:momo_version,momo_main_version:momo_main_version,momo_minor_version:momo_minor_version,build_version:build_version,is_wifi:is_wifi,is_weixin:is_weixin,ua:ua,query:query,platform:platform,_callbacks:{},is_mk:checkMK(),is_offline:is_offline,_uniqueId:1,bid:null==getUrlParam("_bid")?"":parseInt(getUrlParam("_bid")),NoneCallback:function(){},build:function(e){if(e.hasOwnProperty("common")&&(e.ios=e.common,e.android=e.common),e.hasOwnProperty(platform)){var t=e[platform];if(is_m_webview&&(e.need_mk&&!mm.is_mk||e.version&&compare(e.version)<0)){var o=t[t.length-1];if(o&&"function"==typeof o)return void o({status:"-99",message:"当前版本不支持此功能，请检查升级"})}mm.is_mk?this.invoke.apply(this,t):(t.shift(),this.invoke.apply(this,t))}},invoke:function(e,t,o,i){if("string"!=typeof t&&(i=o,o=t,t=e,e=null),"function"==typeof o&&(i=o,o={}),o)try{var n="string"==typeof o?JSON.parse(o):o;o.callback&&"function"==typeof o.callback&&(n.callback=this.createCallback(t,o.callback)),i&&"function"==typeof i&&void 0===n.callback&&(n.callback=this.createCallback(t,i)),o=JSON.stringify(n)}catch(e){return}var a=mm.is_mk?[e,t,o]:[t,o];prepare._adapter.invoke.apply(prepare,a)},createCallback:function(e,t){var o="__BRIDGE_CALLBACK__"+this._uniqueId+++"_"+(new Date).getTime();return this._callbacks.hasOwnProperty(e)||(this._callbacks[e]={}),this._callbacks[e][o]=function(){var o=Array.prototype.slice.apply(arguments);if("getItem"!=e)for(var i=0;i<o.length;i++)try{o[i]=JSON.parse(o[i])}catch(e){}t.apply(null,o)},"mm._callbacks."+e+"."+o},fireDocumentEvent:function(e,t,o,i){var n;if("bridgeEvent"==e&&(t="be:"+t),n=document.createEvent("Events"),n.initEvent(t,!1,!1),n.name=t,o)try{n.data=JSON.parse(o)}catch(e){n.data=o}i&&(n.origin=i),document.dispatchEvent(n)},compare:compare,protocol:"file:"==location.protocol?"http:":location.protocol,host:function(){if("file:"==location.protocol){var e=location.pathname,t=/[oO]ffline\/\d+\/(.*\.com)/;if(t.exec(e))return t.exec(e)[1]}return location.host}(),pathname:function(){if("file:"==location.protocol){var e=location.pathname,t=/[oO]ffline\/\d+\/.*\.com(\/.*)/;if(t.exec(e))return t.exec(e)[1]}return location.pathname}(),ready:function(e){return/complete|loaded|interactive/.test(document.readyState)&&document.body?e.call(null,this):document.addEventListener("DOMContentLoaded",function(){e.call(null,this)}.bind(this),!1),this}};mm.is_mk?prepare.initMK():(prepare.init(),momo_version<5.6&&(window.momo_btn_controller||(window.momo_btn_controller={setImageSrc:function(e,t,o,i){if(!t)return!1;document.getElementById(e).src="data:image/jpeg;base64,"+t}}))),module.exports=mm},,,,function(e,t,o){var i=o(18);"string"==typeof i&&(i=[[e.i,i,""]]);var n={};n.transform=void 0;o(6)(i,n);i.locals&&(e.exports=i.locals)},,,function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(3),n=o(5),a=(o.n(n),o(12)),r=(o.n(a),o(14)),s=(o.n(r),o(13)),c=(o.n(s),o(4));o.n(c);new n.App({shell:i.default,components:{},created:function(){this.init()},methods:{init:function(){this.isReady=!0}}})},,function(e,t,o){var i=o(0);i.http={resetSession:function(e){i.build({common:["http","resetSession",{},e]})},request:function(e,t){e.method="post";var o;i.is_o_webview?o=!0:i.compare("7.0.9")>=0&&i.compare({ios:"7.4.1",android:"7.7"})<0&&(o=!0),o&&(e.encode=1);var n=function(e){if(o)try{var n=window.atob(e);n=escape(n),n=decodeURIComponent(n),e=JSON.parse(n)}catch(e){}else{if("string"==typeof e&&"android"==i.platform)try{var n=decodeURIComponent(e);e=JSON.parse(n)}catch(e){}if("string"==typeof e)try{var n=e.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x1F\x7F-\x9F]/g,"");e=JSON.parse(n)}catch(e){}}t&&t.call(null,e)};i.build({common:["http","request",e,n]})}}},function(e,t,o){var i=o(0);i.storage={getItem:function(e,t){if(!i.is_mk){return void t(localStorage.getItem(e.key))}i.build({common:["storage","getItem",e,t]})},setItem:function(e){if(e.value+="",!i.is_mk)return void localStorage.setItem(e.key,e.value);if(e.value.length>100&&i.compare(7.6)>=0)throw"setItem 字符超长";i.build({common:["storage","setItem",e]})},removeItem:function(e){if(!i.is_mk)return void localStorage.removeItem(e.path+e.key);i.build({common:["storage","removeItem",e]})},clearItem:function(e){if(!i.is_mk)return void localStorage.clear();var t="clearItem";"ios"==i.platform&&i.compare(6.8)<=0&&(t="clear"),i.build({common:["storage",t,e]})}}},function(e,t,o){var i=o(0);i.init=function(){i.ui.setUIBtn()};var n=!0;i.ui={setBackBtn:function(e){i.build({common:["ui","setBackBtn",{},e]})},openUrl:function(e){var t=e.url,o=i.compare("6.11")<0;if(3==e.target)return o?(location.href="momochat://immomo.com?goto="+encodeURIComponent(t),!1):(i.ui.openGoto({param:t}),!1);if(!i.is_webview)return setTimeout(function(){window.location.href=t},20),!1;if(/^momochat/.test(t)){if(o)return location.href=t,!1;var n=new RegExp("(^|&)goto=([^&]*)(&|$)"),a=t.indexOf("?"),r=t.indexOf("?")>=0?t.substring(a+1).match(n):null;return null!=r&&i.ui.openGoto({param:decodeURIComponent(r[2])}),!1}var s=/^http/.test(t);if(!s){var c=t.indexOf("#"),l=c>-1?t.substring(c):"";t=t.replace(l,"");var u=t.indexOf("?"),d=u>-1?t.substring(u):"";if(i.is_mk&&-1==d.indexOf("_bid=")&&""!==i.bid&&(t+=-1==t.indexOf("?")?"?":"&",t+="_bid="+i.bid),e.target>0){if(!/^\//.test(t)){var m=i.pathname.lastIndexOf("/");if(m>0){var f=i.pathname.substring(m+1);t=i.pathname.replace(f,"")+t}else t="/"+t}t=i.protocol+"//"+i.host+t}t+=l,e.url=t}switch(e.target){case 0:return!s&&/^\//.test(t)&&(t=i.protocol+"//"+i.host+t),window.location.href=t,!1;case 1:if(e.pass&&(e.url="https://passport.immomo.com/authorize?redirect_uri="+encodeURIComponent(e.url)),o)return void(location.href="momochat://immomo.com?goto=[momo|url|"+encodeURIComponent(e.url)+"]");if(!i.is_mk)return void i.build({common:["ui","directGoto",{param:"[momo|url|"+e.url+"]"}]});break;case 2:if(!i.is_mk)return i.build({common:["ui","openExternalBrowser",{url:e.url}]}),!1}i.build({common:["ui","openUrl",e]})},openGoto:function(e){var t=e.param;i.is_mk&&"ios"==i.platform?i.build({common:["ui","openGoto",{goto:t}]}):i.build({common:["ui","directGoto",{param:t}]})},openLinkInExternalBrowser:function(e){var t=i.is_mk?"openLinkInExternalBrowser":"openExternalBrowser";i.build({common:["ui",t,e]})},goBack:function(e){i.build({common:["ui","goBack",e]})},reload:function(e){i.is_mk?i.build({common:["ui","reload",e]}):location.reload()},close:function(e){if(/momoPopup/.test(navigator.userAgent))return void i.ui.closePopup(e);var t=i.is_mk?"close":"closeWindow";"ios"==i.platform&&i.compare("6.5.19")<0&&(e={}),"android"==i.platform&&i.compare("6.5.2")<0&&(e=null),i.build({common:["ui",t,e]})},closePopup:function(e){i.build({common:["ui","closePopup",e]})},showNavBar:function(){var e=i.is_mk?"showNavBar":"showTitleBar";i.build({common:["ui",e,{}]})},hideNavBar:function(){var e=i.is_mk?"hideNavBar":"hideTitleBar";i.build({common:["ui",e,{}]})},postMessage:function(e){/^bn/.test(e.name)||e.target||(e.target="*"),i.build({common:["ui","postMessage",e]})},showKeyboard:function(e){i.build({common:["ui","showKeyboard",e]})},showMessage:function(e){i.build({common:["ui","showMessage",e]})},showConfirm:function(e){var t=function(t){if(t){switch(t.button){case 0:e.cancel&&e.cancel();break;case 1:e.callback1&&e.callback1();break;case 2:e.callback2&&e.callback2()}e.finish&&e.finish(t)}};i.build({common:["ui","showConfirm",e,t]})},setUI:function(e){var t=i.is_mk?"setUI":"setTitleBarUI";i.build({common:["ui",t,e],version:{ios:"6.5.1",android:"6.5.1"}})},setTitle:function(e){e&&e.title&&(document.title=e.title),i.build({common:["ui","setTitle",e]})},setPulldown:function(e){i.build({common:["ui","setPulldown",e]})},setUIBtn:function(e,t){if(i.is_mk)i.build({common:["ui","setUIBtn",e,t]});else if(e){var o;o=t?{callback:i.createCallback("init",t)}:{};var n={enable:{back:0,forward:0,refresh:0,share:e.action||0,scrollbar:1,ui_btn:1},ui_btn:{title:e.title,buttons:[{text:e.title,action:e.action||0,param:o}]}};i.build({common:["ui","init",n]})}else i.build({android:["ui","init",{enable:{back:0,forward:0,refresh:0,share:0,scrollbar:0,ui_btn:0},ui_btn:{buttons:[{text:"",action:0}]}}],ios:["ui","init",{enable:{back:0,forward:0,refresh:0,share:0,scrollbar:0,ui_btn:0}}]})},setUIGroup:function(e){var t=function(t){t&&void 0!==t.btn&&e.btns[t.btn].callback(t)};i.build({common:["ui","setUIGroup",e,t],need_mk:!0,version:{ios:"7.3.9",android:"7.3.9"}})},clearPageCover:function(e){i.is_mk&&"ios"==i.platform&&i.build({common:["ui","clearPageCover",{},e]})},getVisibility:function(e){i.build({common:["ui","getVisibility",{},e],version:{ios:"6.6.3",android:"6.6.1"}})},refresh:function(e){n=!0;var t,o=function(){n||i.ui.refreshEnd()},a=function(){n=!1,clearTimeout(t),t=setTimeout(o,16e3),setTimeout(function(){e&&e.call(null)},0)};i.build({common:["ui","refresh",{},a]})},refreshEnd:function(){n=!0,i.build({common:["ui","refreshEnd",{}]})}},i.share={showPanel:function(e,t){void 0===t&&(t=function(){});var o=i.is_mk?"showPanel":"callShare";if(e){var n=["title","text","url","pic"],a=e.configs;if(a){if(a.momo_feed){var r=a.momo_feed;void 0===r.sdk&&!r.pic&&r.resource&&(r.sdk=1)}for(var s in a)n.forEach(function(t){!a[s].hasOwnProperty(t)&&e[t]&&(a[s][t]=e[t])});a.momo_contacts&&(!a.momo_friend&&(a.momo_friend=a.momo_contacts),!a.momo_discuss&&(a.momo_discuss=a.momo_contacts),!a.momo_group&&(a.momo_group=a.momo_contacts))}}i.build({common:["share",o,e,t]})},toApp:function(e,t){var o=i.is_mk?"toApp":"shareOne";"momo_feed"==e.app&&void 0===e.sdk&&!e.pic&&e.resource&&(e.sdk=1),i.build({common:["share",o,e,t]})},displayGift:function(e,t){i.build({common:["ui","displayGift",e,t]})}}},function(e,t,o){var i=o(0);o(11),o(9),o(10),window&&(window.mm=i),e.exports=i},function(e,t){!function(e){try{var t=t||Date.now(),o=window.performance&&window.performance.timing,i=o?window.performance.timing:{},n={environment:{}},a={init:"__mma_onload_analy",ajax:"__mma_ajax_analy",date:"__mma_ajax_date"};domready=function(){var e,t=[],o=document,i=o.documentElement.doScroll,n=(i?/^loaded|^c/:/^loaded|^i|^c/).test(o.readyState);return n||o.addEventListener("DOMContentLoaded",e=function(){for(o.removeEventListener("DOMContentLoaded",e),n=1;e=t.shift();)e()}),function(e){n?setTimeout(e,0):t.push(e)}}(),winload=function(e){var t;"complete"!=document.readyState?window.addEventListener("load",t=function(){e(),window.removeEventListener("load",t)},!1):setTimeout(e,0)},mma_events_dynamic=["et","at","cu","cx","cy","cxp"],e.MMA=e.MMA||{},MMA.utils={isPlainObject:function(t){return null!=t&&"object"==typeof t&&t!==e&&Object.getPrototypeOf(t)==Object.prototype}},MMA.url="https://api-log.immomo.com/v1/log/common/web",MMA.dmurl=("file:"==window.location.protocol?"http:":window.location.protocol)+"//nb.immomo.com/fe/m.gif",MMA.reurl="https://api-log.immomo.com/v1/log/common/mkrequest",MMA.lid=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var o=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?o:7&o|8).toString(16)})}(),MMA.static_params={uri:e.location.href,pid:window.__pid||"",bidv:function(){var e=document.querySelector('meta[name="bid-version"]');return e?e.getAttribute("content"):""}(),ru:document.referrer||"",cwt:1,ext:{__aid:window.__aid||""}},MMA.lucky=window.__mma_lucky||10===Math.floor(100*Math.random())||MMA.static_params.bidv<=0;var r=function(e,t,o){for(key in t)o&&MMA.utils.isPlainObject(t[key])?(MMA.utils.isPlainObject(t[key])&&!MMA.utils.isPlainObject(e[key])&&(e[key]={}),r(e[key],t[key],o)):void 0!==t[key]&&(e[key]=t[key]);return e};MMA.query=function(){var e=Array.prototype.slice.call(arguments),t=0,o=(e.length,{}),i=[];e.forEach(function(e){r(o,e,!0)});for(var t in o)if(o.hasOwnProperty(t)){var n=MMA.utils.isPlainObject(o[t])?JSON.stringify(o[t]):o[t];i.push(t+"="+encodeURIComponent(n))}return i};var s=function(e){if("http:"!=location.protocol){var t=new XMLHttpRequest;t.withCredentials=!0,t.onreadystatechange=function(){},t.open("POST",e.url),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(e.data)}},c=function(t,o){var i;if(t&&"object"==typeof t){var n,a;if("click"===t.type&&(n=t.target.getAttribute("mma")),MMA.utils.isPlainObject(o)&&(n=n||o.cxp,a=o.ext),!n)return!1;i={et:2,at:1,cx:t.pageX,cy:t.pageY,cu:t.target.getAttribute("href")||"",cxp:n,ext:a||{}}}else i=o;if(i){var r=MMA.dmurl+"?lid="+MMA.lid+"&"+MMA.query(MMA.static_params,i).join("&"),s=Date.now(),c="log__"+s,l=e[c]=new Image;r=r+"&rnd="+s,l.onload=l.onerror=function(){e[c]=null},l.src=r,l=null}};MMA.sendEvent=function(e,t,o,i){var n;if(t&&(t.api||4==t.et)&&(n=!0),!n)return void c(e,t);if(MMA.lucky||t.lucky){delete t.lucky,delete t.api;var a=t;if(a){var l={lid:MMA.lid,environment:{uri:MMA.static_params.uri,pid:MMA.static_params.pid,bidv:MMA.static_params.bidv},logs:{}};window.__aid&&(l.environment.aid=window.__aid),o?l.error=a:i?r(l,a,!0):r(l.logs,a,!0);var u=MMA.query({log:l}).join("&");s({url:MMA.url,data:u})}}},MMA.sendLog=function(e){if(MMA.lucky){var t=localStorage.getItem(a.ajax),o=JSON.stringify(e).replace(/^{/,"").replace(/}$/,"");o&&(t+=t?",":"",t+=o,localStorage.setItem(a.ajax,t))}},MMA.addInit=function(e){if(n)r(n.environment,e,!0);else{var t=JSON.parse(localStorage.getItem(a.init));if(t){var o=t.lid;MMA.lid==o&&(r(t.environment,e,!0),localStorage.setItem(a.init,JSON.stringify(t)))}MMA.static_params.bidv<=0&&r(window.__mma_tips,e,!0)}},window.addEventListener("error",function(e){return e&&"Script error."!=e.message&&MMA.sendEvent(null,{api:1,file:e.filename||"",msg:e.message||"",pos:[e.lineno||0,e.colno||0].join("-")},!0),!0},!1),function(){var e,t,c=MMA.static_params;if(winload(function(){var l=JSON.parse(localStorage.getItem(a.init));if(l&&(localStorage.removeItem(a.init),MMA.sendEvent(null,l,!1,!0)),MMA.lucky){r(n,{lid:MMA.lid,environment:c,logs:{et:1},api:1,lucky:!0},!0);var u=n.environment;if(o&&(u.pft=r({},i,!0),delete u.pft.toJSON,t&&t.length&&t[0].duration)){var d=t.length,m=0;jsTime=0,jsPre=0;for(var f=0;f<d;f++)/\.css(\?|$)/.test(t[f].name)?m=Math.max(t[f].duration,m):/\.js(\?|$)/.test(t[f].name)&&(jsTime=Math.max(t[f].duration,jsTime),jsPre=t[f].startTime);m&&(u.css=parseInt(m)),jsTime&&(u.js=parseInt(jsTime),u.jspre=parseInt(jsPre-i.domLoading+i.navigationStart))}c.bidv<=0&&(window.__mma_tips=u),localStorage.setItem(a.init,JSON.stringify(n)),n=null,t=null,e=null,setTimeout(function(){var e=localStorage.getItem(a.ajax);if(e&&Date.now()-localStorage.getItem(a.date)>=3e5){var t=MMA.query({type:"ajax",log:"{"+e+"}"}).join("&");s({url:MMA.reurl,data:t}),localStorage.setItem(a.date,Date.now()),localStorage.setItem(a.ajax,"")}},0)}}),!MMA.lucky){domready(function(){void 0!==performance.getEntriesByType&&(t=performance.getEntriesByType("resource"))});var l=function(e){e.data&&e.data.firstTime&&MMA.addInit({ajax:e.data}),document.removeEventListener("bm:mock_ajax",l,!1)};document.addEventListener("bm:mock_ajax",l,!1)}}(),document&&document.addEventListener("click",function(e){try{for(var t=e.target,o=0;o<4&&t!==document&&t!==document.body&&!t.getAttribute("mma")&&t.parentNode;)t=t.parentNode,o++;if(o=null,t.getAttribute){var i=t.getAttribute("mma");i&&MMA.sendEvent(null,{et:2,at:1,cxp:i,cu:t.getAttribute("href")||"",cx:e.pageX,cy:e.pageY})}}catch(e){}},!1),window.addEventListener("unload",function(){MMA.sendEvent(null,{api:1,et:3})},!1)}catch(e){}}(window)},function(e,t,o){"use strict";function i(e,t){for(var o in t)e[o]=t[o];return e}function n(e,t){return"function"==typeof t&&(t=t()),null==t&&(t=""),encodeURIComponent(e)+"="+encodeURIComponent(t)}function a(e,t,o,i){var r,s,c=Array.isArray(t)||t instanceof Array;"object"==typeof t&&(Object.getPrototypeOf(t),Object.prototype);for(var l in t)r=t[l],s=typeof r,o&&(l=o+"["+l+"]"),!o&&c?i?e[l]=r:e.push(n(l,r)):"object"==s?a(e,r,l,i):i?e[l]=r:e.push(n(l,r))}function r(e){var t=new window.XMLHttpRequest,o=e.data||"",i=e.url,n=e.error,r=e.success;if(t.onreadystatechange=function(){if(4==t.readyState){var e,o=!1;if(t.status>=200&&t.status<300||304==t.status||0==t.status&&"file:"==location.protocol){e=t.responseText;try{e=/^\s*$/.test(e)?null:JSON.parse(e)}catch(e){o=e}o?n(o,"parsererror",t):r(e,t)}else n(t.statusText||null,t.status?"error":"abort",t)}},t.open("POST",i,!0),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),o&&"string"!=typeof o){var s=[];a(s,o),o=s.join("&").replace(/%20/g,"+")}t.send(o)}function s(e,t){d&&(!e&&t.analy&&(d.count++,d.lastTime=Date.now()),d.isLoaded&&d.sendCount<=d.count&&(d.firstTime?"undefined"!=typeof MMA&&(delete d.sendCount,delete d.isLoaded,MMA.addInit({ajax:d}),MMA.sendLog&&MMA.sendLog(m.data),d=null,m.data=null):d=null))}function c(e,t,o){"undefined"!=typeof MMA&&MMA.sendEvent(null,{api:1,lucky:1,et:4,cu:e,cxp:o||"ajax_error",ext:t})}function l(e,t){this.options=e,this.storageObj=t,this.resp=null,d&&(d.firstTime||(d.firstTime=Date.now()),e.analy&&d.sendCount++),m.start[e.url+t.cacheKey]=Date.now(),e.useCache?this.getLocalStorage.apply(this,arguments):this.sendRequest.apply(this,arguments)}var u=mm.compare("7.0.9")>0,d={firstTime:0,lastTime:0,sendCount:0,count:0,isLoaded:!1,cache:!1},m={start:{},data:{},net:"none"},f=function(e){m.net=e.network_type};mm.is_mk?mm.invoke("device","getNetworkType",{},f):mm.invoke("getNetworkType",{},f),window.addEventListener("load",function(){d.isLoaded=!0,s(!0)},!1);var p=function(){var e=!1,t=null,o=[],i=[],n="android"==mm.platform&&mm.build_version<1650;return function(a,r){var s=!n&&r.autoReload;return 0==t?!(-1!=o.indexOf(this)||!s)&&(this.sendRequest(),!0):1!=t&&(o.push(this),i.push(a),e||(e=!0,mm.invoke("http","resetSession",{},function(e){if(s&&0==e.status){t=0;for(var n=0;n<o.length;n++)o[n].sendRequest()}if(!s||0!=e.status){t=1;for(var n=0;n<o.length;n++)o[n].onlineSuc(i[n])}})),!0)}}();l.prototype={getLocalStorage:function(){var e=this,t=this.options,o=this.storageObj;e.sendRequest(arguments);var i=localStorage.getItem(o.path+o.key);if(i){var n;if(u)try{var n=window.atob(i);n=escape(n),n=decodeURIComponent(n),t._mock.origin=n,n=JSON.parse(n)}catch(t){n=e.changeCode(i)}else n=e.changeCode(i);t._mock.originObj=n,t.success.call(t,n),d&&(d.cache=!0)}},changeCode:function(e){var t;try{t=JSON.parse(e)}catch(i){try{var o=e.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x1F\x7F-\x9F]/g,"");t=JSON.parse(o)}catch(o){t=e}}return this.options._mock.origin=e,t},sendRequest:function(){var e=this,t=this.options,o={url:t.url,data:t.data,dataType:"json",type:"POST"};if(mm.is_mk){if("android"==mm.platform){var i={};a(i,o.data,null,!0),o.data=i}mm.http.request(o,function(o){if(o)if("object"==typeof o){if(o.ec&&(o.ec<0||1==o.ec))return o.em="网络好像有点问题",t.success&&t.success.call(t,o),t._mock.originObj&&t.finish&&t.finish.call(t,t._mock.originObj),void c(t.url,o);if(/^\d\d\d401$/.test(o.ec)&&p.call(e,o,t))return}else c(t.url,o,"ajax_datatype");e.onlineSuc(o)})}else try{o.success=function(t){e.onlineSuc.call(e,t)},o.error=function(t,o){t&&e.onlineErr({ready:t.readyState,status:t.status,text:o},t)},r(o)}catch(e){}},onlineSuc:function(e){var t=this.options,o=this.storageObj;if(t.useCache&&e){var n="object"==typeof e,a=n?JSON.stringify(e):e;if(u){var a=encodeURIComponent(a);a=unescape(a),a=window.btoa(a)}if(t._mock.origin&&t._mock.origin==a&&t.finish)return t.finish.call(t,e),!1;n&&(!n||200!=e.ec&&0!=e.ec)||(i(o,{value:a}),localStorage.setItem(o.path+o.key,a))}t.end=!0;var r=Date.now(),s={};s[r]={type:"ajax",data:{net:m.net,uri:t.url.replace(/\?.*/,""),wt:r-m.start[t.url+o.cacheKey],origin:location.href.replace(/\?.*/,""),bid:mm.query._bid?mm.query._bid[0]:""}},m.data?m.data[r]=s[r]:MMA.sendLog&&MMA.sendLog(s),t._mock.origin?t.update.call(t,e):t.success.call(t,e),t.finish&&t.finish.call(t,e)},onlineErr:function(e,t){var o=this.options;o.error&&o.error.call(o,t),c(o.url,e)}};var _={version:"4.0.12",ajax:function(e){var t=i({},e),o=t.success,n=t.update,a=t.error,r=(t.finish,t.progress),u=t.cacheKey;if(t._mock={},void 0===t.autoReload&&(t.autoReload=!0),e.host){if(mm.is_mk)t.url=e.host+t.url;else if(e.host.indexOf("mk.immomo.com")>-1){if(mm.is_webview)return _.showError(),void c(e.host+t.url,"","mk_url_error");t.url="/mk"+t.url}}else mm.is_mk&&!/^http/.test(t.url)&&(t.url=mm.protocol+"//"+mm.host+t.url);if(!u){var d=t.url;if(t.data){d+=t.url.indexOf("?")>-1?"&":"?";var m=[];for(var f in t.data)m.push(f+"="+t.data[f]);d+=m.join("&")}u=encodeURI(d)}var p={path:t.cachePath||"",key:u};t.success=function(e,i,n){s(!1,t),o&&o.apply(t,arguments),r&&r.apply(t,arguments)},t.update=function(e,o,i){n&&n.apply(t,arguments),r&&r.apply(t,arguments)},t.error=function(e,o,i){s(!1,t),a&&a.apply(t,arguments)},new l(t,p)},showError:function(e){e=e||"网络好像有点问题","undefined"!=typeof mm&&mm.invoke("ui","showMessage",{status:2,message:e})},post:function(e,t,o){return"function"==typeof t&&(o=t,t=void 0),_.ajax({url:e,data:t,success:o})}};window.mk=_,e.exports=_},,,,function(e,t,o){t=e.exports=o(1)(!1),t.push([e.i,"",""])},,,,,,,,,,,,,,function(e,t,o){o(7),e.exports=o(4)}],[32]);